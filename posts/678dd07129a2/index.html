<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="Demystifying Load Balancing in Go: A Comprehensive Guide" /><meta name="author" content="Kamna Garg" /><meta property="og:locale" content="en" /><meta name="description" content="Load balancing is a crucial technique used to distribute incoming traffic across multiple backend servers, ensuring optimal performance…" /><meta property="og:description" content="Load balancing is a crucial technique used to distribute incoming traffic across multiple backend servers, ensuring optimal performance…" /><link rel="canonical" href="/posts/678dd07129a2/" /><meta property="og:url" content="/posts/678dd07129a2/" /><meta property="og:site_name" content="Kamna" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-05-16T16:56:41+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Demystifying Load Balancing in Go: A Comprehensive Guide" /><meta name="twitter:site" content="@kamna90" /><meta name="twitter:creator" content="@Kamna Garg" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Kamna Garg"},"dateModified":"2023-05-16T16:56:41+00:00","datePublished":"2023-05-16T16:56:41+00:00","description":"Load balancing is a crucial technique used to distribute incoming traffic across multiple backend servers, ensuring optimal performance…","headline":"Demystifying Load Balancing in Go: A Comprehensive Guide","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/678dd07129a2/"},"url":"/posts/678dd07129a2/"}</script><title>Demystifying Load Balancing in Go: A Comprehensive Guide | Kamna</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Kamna"><meta name="application-name" content="Kamna"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.20.1/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener('change', () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.notify(); } /* flipMode() */ } /* ModeToggle */ const modeToggle = new ModeToggle(); </script><body data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/favicons/1621252237275.jpeg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title"> <a href="/">Kamna</a></div><div class="site-subtitle font-italic">Womanwhocode</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="javascript:location.href = 'mailto:' + ['kamna90123','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Demystifying Load Balancing in Go: A Comprehensive Guide</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Demystifying Load Balancing in Go: A Comprehensive Guide</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1684256201" data-df="ll" data-toggle="tooltip" data-placement="bottom"> May 16, 2023 </em> </span> <span> Updated <em class="" data-ts="1684256201" data-df="ll" data-toggle="tooltip" data-placement="bottom"> May 16, 2023 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href=""></a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1813 words"> <em>10 min</em> read</span></div></div></div><div class="post-content"><h3 id="demystifying-load-balancing-in-go-a-comprehensive-guide"><span class="mr-2">Demystifying Load Balancing in Go: A Comprehensive Guide</span><a href="#demystifying-load-balancing-in-go-a-comprehensive-guide" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Load balancing is a crucial technique used to distribute incoming traffic across multiple backend servers, ensuring optimal performance, scalability, and reliability. In this article, we will explore load balancing in Go and implement three popular load balancing algorithms: Round Robin, Least Connections, and Random. We will also discuss the differences between layer 4 and layer 7 load balancing.</p><p>Table of Contents:</p><ol><li>Load Balancing Fundamentals<li>Layer 4 vs. Layer 7 Load Balancing<li>Round Robin Load Balancer<li>Least Connections Load Balancer<li>Random Load Balancer<li>Implementation in Go<li>Conclusion</ol><h3 id="1-load-balancing-fundamentals"><span class="mr-2"><strong>1. Load Balancing Fundamentals</strong></span><a href="#1-load-balancing-fundamentals" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Load balancing involves distributing incoming requests across multiple backend servers to achieve better performance, scalability, and fault tolerance. It ensures that no single server is overwhelmed with traffic while maintaining high availability and efficient resource utilization.</p><p>There are two primary types of load balancing:</p><h4 id="layer-4-load-balancing"><span class="mr-2">Layer 4 Load Balancing:</span><a href="#layer-4-load-balancing" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Layer 4 load balancing operates at the transport layer (TCP/UDP) of the OSI model. It focuses on distributing traffic based on IP addresses, ports, and transport protocols. Layer 4 load balancers make routing decisions based on network-level information without inspecting application-layer protocols.</p><h4 id="layer-7-load-balancing"><span class="mr-2">Layer 7 Load Balancing:</span><a href="#layer-7-load-balancing" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Layer 7 load balancing, also known as application-level load balancing, operates at the application layer of the OSI model. It performs deep packet inspection, allowing load balancers to make routing decisions based on the content, URL, cookies, or other application-specific data. Layer 7 load balancers are more intelligent and can distribute traffic based on application-specific needs.</p><h3 id="3-round-robin-load-balancer"><span class="mr-2">3. Round Robin Load Balancer:</span><a href="#3-round-robin-load-balancer" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>The Round Robin load balancing algorithm distributes requests in a sequential, circular manner. Each request is assigned to the next available backend server in the rotation. It ensures an even distribution of requests across all servers. However, Round Robin does not consider server loads or capacities, potentially leading to uneven resource utilization.</p><h3 id="4-least-connections-load-balancer"><span class="mr-2">4. Least Connections Load Balancer</span><a href="#4-least-connections-load-balancer" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>The Least Connections load balancing algorithm distributes requests to the backend server with the fewest active connections. It aims to evenly distribute the workload by considering the current connections on each server. This algorithm ensures that traffic is directed to servers with lighter loads, enabling better utilization of resources.</p><h3 id="5-random-load-balancer"><span class="mr-2">5. Random Load Balancer</span><a href="#5-random-load-balancer" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>The Random load balancing algorithm randomly selects a backend server for each incoming request. It is the simplest load-balancing algorithm but does not consider server loads or capacities. Random load balancing can be effective when backend servers have similar capabilities, but it may lead to uneven distribution if servers have varying capacities or loads.</p><h3 id="6-implementation-in-go"><span class="mr-2">6. Implementation in Go</span><a href="#6-implementation-in-go" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><code class="language-plaintext highlighter-rouge">LoadBalancer</code> the interface specifies the <code class="language-plaintext highlighter-rouge">ServeHTTP</code> method and the <code class="language-plaintext highlighter-rouge">GetNextAvailableServer</code> method. The <code class="language-plaintext highlighter-rouge">Server</code> struct represents a backend server, including its URL, health status, weight, and current number of connections.</p><div class="language-go highlighter-rouge"><div class="code-header"> <span data-label-text="Go"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="c">// LoadBalancer defines the interface for a load balancer.</span>
<span class="k">type</span> <span class="n">LoadBalancer</span> <span class="k">interface</span> <span class="p">{</span>
	<span class="n">ServeHttp</span><span class="p">(</span><span class="n">w</span> <span class="n">http</span><span class="o">.</span><span class="n">ResponseWriter</span><span class="p">,</span> <span class="n">r</span> <span class="o">*</span><span class="n">http</span><span class="o">.</span><span class="n">Request</span><span class="p">)</span>
	<span class="n">GetNextAvailableServer</span><span class="p">()</span> <span class="o">*</span><span class="n">Server</span>
<span class="p">}</span>

<span class="c">// Server represents a backend server.</span>
<span class="k">type</span> <span class="n">Server</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">URL</span>         <span class="kt">string</span>
	<span class="n">Alive</span>       <span class="kt">bool</span>
	<span class="n">Weight</span>      <span class="kt">int</span>
	<span class="n">Connections</span> <span class="kt">int</span>
	<span class="n">mutex</span>       <span class="n">sync</span><span class="o">.</span><span class="n">Mutex</span> <span class="c">// using it to protect concurrent access to alive and connections field</span>
<span class="p">}</span>
</pre></table></code></div></div><p>The <code class="language-plaintext highlighter-rouge">ReverseProxy</code> struct represents a reverse proxy for a specific backend server. The <code class="language-plaintext highlighter-rouge">NewReverseProxy</code> function creates a new instance of the <code class="language-plaintext highlighter-rouge">ReverseProxy</code> struct with the specified backend URL. The <code class="language-plaintext highlighter-rouge">ServeHTTP</code> method of the <code class="language-plaintext highlighter-rouge">ReverseProxy</code> struct forwards the incoming request to the backend server.</p><div class="language-go highlighter-rouge"><div class="code-header"> <span data-label-text="Go"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="k">type</span> <span class="n">ReverseProxy</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">backendURL</span> <span class="kt">string</span>
	<span class="n">proxy</span>      <span class="o">*</span><span class="n">httputil</span><span class="o">.</span><span class="n">ReverseProxy</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">NewReverseProxy</span><span class="p">(</span><span class="n">backendURL</span> <span class="kt">string</span><span class="p">)</span> <span class="o">*</span><span class="n">ReverseProxy</span> <span class="p">{</span>
	<span class="n">backend</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">url</span><span class="o">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">backendURL</span><span class="p">)</span>

	<span class="k">return</span> <span class="o">&amp;</span><span class="n">ReverseProxy</span><span class="p">{</span>
		<span class="n">backendURL</span><span class="o">:</span> <span class="n">backendURL</span><span class="p">,</span>
		<span class="n">proxy</span><span class="o">:</span>      <span class="n">httputil</span><span class="o">.</span><span class="n">NewSingleHostReverseProxy</span><span class="p">(</span><span class="n">backend</span><span class="p">),</span>
	<span class="p">}</span>

<span class="p">}</span>

<span class="c">// Forwards the incoming request to backend server</span>
<span class="k">func</span> <span class="p">(</span><span class="n">rp</span> <span class="o">*</span><span class="n">ReverseProxy</span><span class="p">)</span> <span class="n">ServerHttp</span><span class="p">(</span><span class="n">w</span> <span class="n">http</span><span class="o">.</span><span class="n">ResponseWriter</span><span class="p">,</span> <span class="n">r</span> <span class="o">*</span><span class="n">http</span><span class="o">.</span><span class="n">Request</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"Forwarding request to %s : %s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">rp</span><span class="o">.</span><span class="n">backendURL</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">URL</span><span class="o">.</span><span class="n">Path</span><span class="p">)</span>
	<span class="n">rp</span><span class="o">.</span><span class="n">proxy</span><span class="o">.</span><span class="n">ServeHTTP</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>
<span class="p">}</span>
</pre></table></code></div></div><p>The <code class="language-plaintext highlighter-rouge">RoundRobinLoadBalancer</code> struct maintains a list of servers and keeps track of the next server to use for load balancing.</p><p>The <code class="language-plaintext highlighter-rouge">ServeHTTP</code> method of <code class="language-plaintext highlighter-rouge">RoundRobinLoadBalancer</code> distributes incoming requests in a round-robin manner. It calls the <code class="language-plaintext highlighter-rouge">GetNextAvailableServer</code> method to obtain the next available server and creates a reverse proxy for that server’s URL. The reverse proxy then forwards the request to the backend server.</p><div class="language-go highlighter-rouge"><div class="code-header"> <span data-label-text="Go"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
</pre><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
	<span class="s">"net/http"</span>
<span class="p">)</span>

<span class="k">type</span> <span class="n">RoundRobinLB</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">servers</span> <span class="p">[]</span><span class="o">*</span><span class="n">Server</span>
	<span class="n">next</span>    <span class="kt">int</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">NewRoundRobinLB</span><span class="p">(</span><span class="n">servers</span> <span class="p">[]</span><span class="o">*</span><span class="n">Server</span><span class="p">)</span> <span class="o">*</span><span class="n">RoundRobinLB</span> <span class="p">{</span>
	<span class="k">return</span> <span class="o">&amp;</span><span class="n">RoundRobinLB</span><span class="p">{</span>
		<span class="n">servers</span><span class="o">:</span> <span class="n">servers</span><span class="p">,</span>
		<span class="n">next</span><span class="o">:</span>    <span class="m">0</span><span class="p">,</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="c">// GetNextAvailableServer returns the next available backend server in a round-robin manner.</span>
<span class="k">func</span> <span class="p">(</span><span class="n">lb</span> <span class="o">*</span><span class="n">RoundRobinLB</span><span class="p">)</span> <span class="n">GetNextAvailableServer</span><span class="p">()</span> <span class="o">*</span><span class="n">Server</span> <span class="p">{</span>

	<span class="n">numServers</span> <span class="o">:=</span> <span class="nb">len</span><span class="p">(</span><span class="n">lb</span><span class="o">.</span><span class="n">servers</span><span class="p">)</span>

	<span class="c">// Start searching from the next index</span>
	<span class="n">start</span> <span class="o">:=</span> <span class="n">lb</span><span class="o">.</span><span class="n">next</span>

	<span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">numServers</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">{</span>
		<span class="n">serverIndex</span> <span class="o">:=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">i</span><span class="p">)</span> <span class="o">%</span> <span class="n">numServers</span>
		<span class="n">server</span> <span class="o">:=</span> <span class="n">lb</span><span class="o">.</span><span class="n">servers</span><span class="p">[</span><span class="n">serverIndex</span><span class="p">]</span>

		<span class="n">server</span><span class="o">.</span><span class="n">mutex</span><span class="o">.</span><span class="n">Lock</span><span class="p">()</span>
		<span class="n">alive</span> <span class="o">:=</span> <span class="n">server</span><span class="o">.</span><span class="n">Alive</span>
		<span class="n">server</span><span class="o">.</span><span class="n">mutex</span><span class="o">.</span><span class="n">Unlock</span><span class="p">()</span>

		<span class="k">if</span> <span class="n">alive</span> <span class="p">{</span>
			<span class="c">// update the next index for next iteration</span>
			<span class="n">lb</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="p">(</span><span class="n">serverIndex</span> <span class="o">+</span> <span class="m">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">numServers</span>
			<span class="k">return</span> <span class="n">server</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="c">// No available servers found, return nil</span>
	<span class="k">return</span> <span class="no">nil</span>
<span class="p">}</span>
<span class="k">func</span> <span class="p">(</span><span class="n">lb</span> <span class="o">*</span><span class="n">RoundRobinLB</span><span class="p">)</span> <span class="n">ServeHTTP</span><span class="p">(</span><span class="n">w</span> <span class="n">http</span><span class="o">.</span><span class="n">ResponseWriter</span><span class="p">,</span> <span class="n">r</span> <span class="o">*</span><span class="n">http</span><span class="o">.</span><span class="n">Request</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">server</span> <span class="o">:=</span> <span class="n">lb</span><span class="o">.</span><span class="n">GetNextAvailableServer</span><span class="p">()</span>
	<span class="k">if</span> <span class="n">server</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
		<span class="n">proxy</span> <span class="o">:=</span> <span class="n">NewReverseProxy</span><span class="p">(</span><span class="n">server</span><span class="o">.</span><span class="n">URL</span><span class="p">)</span>

		<span class="n">logger</span><span class="o">.</span><span class="n">Print</span><span class="p">(</span><span class="s">"server is "</span><span class="p">,</span> <span class="n">server</span><span class="p">)</span>
		<span class="c">// Set the logger for the ReverseProxy</span>
		<span class="n">proxy</span><span class="o">.</span><span class="n">ServerHttp</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">logger</span><span class="o">.</span><span class="n">Print</span><span class="p">(</span><span class="s">"server is "</span><span class="p">,</span> <span class="n">server</span><span class="p">)</span>
		<span class="c">// TODO:</span>
		<span class="c">// Handle the case when no available server is found</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>The <code class="language-plaintext highlighter-rouge">LeastConnectionsLoadBalancer</code> struct represents a load balancer that distributes incoming requests to the backend server with the fewest active connections. The <code class="language-plaintext highlighter-rouge">NewLeastConnectionsLoadBalancer</code> function creates a new instance of the <code class="language-plaintext highlighter-rouge">LeastConnectionsLoadBalancer</code> struct with the given list of servers.</p><p>The <code class="language-plaintext highlighter-rouge">ServeHTTP</code> method of <code class="language-plaintext highlighter-rouge">LeastConnectionsLoadBalancer</code> distributes incoming requests to the backend server with the fewest active connections. It calls the <code class="language-plaintext highlighter-rouge">GetNextAvailableServer</code> method to obtain the server with the fewest connections and creates a reverse proxy for that server’s URL. The reverse proxy then forwards the request to the backend server.</p><div class="language-go highlighter-rouge"><div class="code-header"> <span data-label-text="Go"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
</pre><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
	<span class="s">"net/http"</span>
<span class="p">)</span>

<span class="k">type</span> <span class="n">LeastConnectionLB</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">servers</span> <span class="p">[]</span><span class="o">*</span><span class="n">Server</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">NewLeastConnectionLB</span><span class="p">(</span><span class="n">servers</span> <span class="p">[]</span><span class="o">*</span><span class="n">Server</span><span class="p">)</span> <span class="o">*</span><span class="n">LeastConnectionLB</span> <span class="p">{</span>
	<span class="k">return</span> <span class="o">&amp;</span><span class="n">LeastConnectionLB</span><span class="p">{</span>
		<span class="n">servers</span><span class="o">:</span> <span class="n">servers</span><span class="p">,</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="c">// ServeHTTP distributes the incoming request to the backend server with the fewest active connections.</span>
<span class="k">func</span> <span class="p">(</span><span class="n">lb</span> <span class="o">*</span><span class="n">LeastConnectionLB</span><span class="p">)</span> <span class="n">ServeHTTP</span><span class="p">(</span><span class="n">w</span> <span class="n">http</span><span class="o">.</span><span class="n">ResponseWriter</span><span class="p">,</span> <span class="n">r</span> <span class="o">*</span><span class="n">http</span><span class="o">.</span><span class="n">Request</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">server</span> <span class="o">:=</span> <span class="n">lb</span><span class="o">.</span><span class="n">GetNextAvailableServer</span><span class="p">()</span>
	<span class="n">logger</span><span class="o">.</span><span class="n">Print</span><span class="p">(</span><span class="s">"server is %v"</span><span class="p">,</span> <span class="n">server</span><span class="p">)</span>
	<span class="n">proxy</span> <span class="o">:=</span> <span class="n">NewReverseProxy</span><span class="p">(</span><span class="n">server</span><span class="o">.</span><span class="n">URL</span><span class="p">)</span>
	<span class="n">proxy</span><span class="o">.</span><span class="n">ServerHttp</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>
<span class="p">}</span>

<span class="c">// GetNextAvailableServer returns the backend server with the fewest active connections.</span>
<span class="k">func</span> <span class="p">(</span><span class="n">lb</span> <span class="o">*</span><span class="n">LeastConnectionLB</span><span class="p">)</span> <span class="n">GetNextAvailableServer</span><span class="p">()</span> <span class="o">*</span><span class="n">Server</span> <span class="p">{</span>
	<span class="n">minConn</span> <span class="o">:=</span> <span class="o">-</span><span class="m">1</span>
	<span class="k">var</span> <span class="n">selectedServer</span> <span class="o">*</span><span class="n">Server</span>
	<span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">server</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">lb</span><span class="o">.</span><span class="n">servers</span> <span class="p">{</span>
		<span class="n">server</span><span class="o">.</span><span class="n">mutex</span><span class="o">.</span><span class="n">Lock</span><span class="p">()</span>
		<span class="n">alive</span> <span class="o">:=</span> <span class="n">server</span><span class="o">.</span><span class="n">Alive</span>
		<span class="n">connections</span> <span class="o">:=</span> <span class="n">server</span><span class="o">.</span><span class="n">Connections</span>
		<span class="n">server</span><span class="o">.</span><span class="n">mutex</span><span class="o">.</span><span class="n">Unlock</span><span class="p">()</span>

		<span class="k">if</span> <span class="o">!</span><span class="n">alive</span> <span class="p">{</span>
			<span class="k">continue</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="n">minConn</span> <span class="o">==</span> <span class="o">-</span><span class="m">1</span> <span class="o">||</span> <span class="n">connections</span> <span class="o">&lt;</span> <span class="n">minConn</span> <span class="p">{</span>
			<span class="n">minConn</span> <span class="o">=</span> <span class="n">connections</span>
			<span class="n">selectedServer</span> <span class="o">=</span> <span class="n">server</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="n">selectedServer</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
		<span class="n">selectedServer</span><span class="o">.</span><span class="n">mutex</span><span class="o">.</span><span class="n">Lock</span><span class="p">()</span>
		<span class="n">selectedServer</span><span class="o">.</span><span class="n">Connections</span><span class="o">++</span>
		<span class="n">selectedServer</span><span class="o">.</span><span class="n">mutex</span><span class="o">.</span><span class="n">Unlock</span><span class="p">()</span>
		<span class="k">return</span> <span class="n">selectedServer</span>
	<span class="p">}</span>

	<span class="c">// No available servers found, return nil</span>
	<span class="k">return</span> <span class="no">nil</span>
<span class="p">}</span>
</pre></table></code></div></div><p>The <code class="language-plaintext highlighter-rouge">RandomLoadBalancer</code> struct represents a load balancer that distributes incoming requests to a random backend server. The <code class="language-plaintext highlighter-rouge">NewRandomLoadBalancer</code> function creates a new instance of the <code class="language-plaintext highlighter-rouge">RandomLoadBalancer</code> struct with the given list of servers.</p><p>The <code class="language-plaintext highlighter-rouge">ServeHTTP</code> method of <code class="language-plaintext highlighter-rouge">RandomLoadBalancer</code> distributes incoming requests to a random backend server. It calls the <code class="language-plaintext highlighter-rouge">GetNextAvailableServer</code> method to obtain a random available server and creates a reverse proxy for that server’s URL. The reverse proxy then forwards the request to the backend server.</p><div class="language-go highlighter-rouge"><div class="code-header"> <span data-label-text="Go"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
</pre><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
	<span class="s">"math/rand"</span>
	<span class="s">"net/http"</span>
<span class="p">)</span>

<span class="k">type</span> <span class="n">RandomLB</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">servers</span> <span class="p">[]</span><span class="o">*</span><span class="n">Server</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">NewRandomLB</span><span class="p">(</span><span class="n">servers</span> <span class="p">[]</span><span class="o">*</span><span class="n">Server</span><span class="p">)</span> <span class="o">*</span><span class="n">RandomLB</span> <span class="p">{</span>
	<span class="k">return</span> <span class="o">&amp;</span><span class="n">RandomLB</span><span class="p">{</span>
		<span class="n">servers</span><span class="o">:</span> <span class="n">servers</span><span class="p">,</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="c">// ServeHTTP distributes the incoming request to a random backend server.</span>
<span class="k">func</span> <span class="p">(</span><span class="n">lb</span> <span class="o">*</span><span class="n">RandomLB</span><span class="p">)</span> <span class="n">ServeHTTP</span><span class="p">(</span><span class="n">w</span> <span class="n">http</span><span class="o">.</span><span class="n">ResponseWriter</span><span class="p">,</span> <span class="n">r</span> <span class="o">*</span><span class="n">http</span><span class="o">.</span><span class="n">Request</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">server</span> <span class="o">:=</span> <span class="n">lb</span><span class="o">.</span><span class="n">GetNextAvailableServer</span><span class="p">()</span>
	<span class="k">if</span> <span class="n">server</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
		<span class="n">proxy</span> <span class="o">:=</span> <span class="n">NewReverseProxy</span><span class="p">(</span><span class="n">server</span><span class="o">.</span><span class="n">URL</span><span class="p">)</span>
		<span class="n">logger</span><span class="o">.</span><span class="n">Print</span><span class="p">(</span><span class="s">"server is "</span><span class="p">,</span> <span class="n">server</span><span class="p">)</span>
		<span class="n">proxy</span><span class="o">.</span><span class="n">ServerHttp</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>

	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">logger</span><span class="o">.</span><span class="n">Print</span><span class="p">(</span><span class="s">"server is "</span><span class="p">,</span> <span class="n">server</span><span class="p">)</span>
		<span class="c">//TODO:</span>
		<span class="c">// Handle the case when no available server is found</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="c">// GetNextAvailableServer returns a random backend server.</span>
<span class="k">func</span> <span class="p">(</span><span class="n">lb</span> <span class="o">*</span><span class="n">RandomLB</span><span class="p">)</span> <span class="n">GetNextAvailableServer</span><span class="p">()</span> <span class="o">*</span><span class="n">Server</span> <span class="p">{</span>
	<span class="k">var</span> <span class="n">availableServers</span> <span class="p">[]</span><span class="o">*</span><span class="n">Server</span>

	<span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">server</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">lb</span><span class="o">.</span><span class="n">servers</span> <span class="p">{</span>
		<span class="n">server</span><span class="o">.</span><span class="n">mutex</span><span class="o">.</span><span class="n">Lock</span><span class="p">()</span>

		<span class="k">if</span> <span class="n">server</span><span class="o">.</span><span class="n">Alive</span> <span class="p">{</span>
			<span class="n">availableServers</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">availableServers</span><span class="p">,</span> <span class="n">server</span><span class="p">)</span>
		<span class="p">}</span>
		<span class="n">server</span><span class="o">.</span><span class="n">mutex</span><span class="o">.</span><span class="n">Unlock</span><span class="p">()</span>
	<span class="p">}</span>
	<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">availableServers</span><span class="p">)</span> <span class="o">==</span> <span class="m">0</span> <span class="p">{</span>
		<span class="c">// No available servers found, return nil</span>
		<span class="k">return</span> <span class="no">nil</span>
	<span class="p">}</span>
	<span class="c">// return some random server from available servers</span>

	<span class="k">return</span> <span class="n">availableServers</span><span class="p">[</span><span class="n">rand</span><span class="o">.</span><span class="n">Intn</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">availableServers</span><span class="p">))]</span>
<span class="p">}</span>
</pre></table></code></div></div><p>Now, let’s set up our <code class="language-plaintext highlighter-rouge">main</code> function to start the load balancer. In the <code class="language-plaintext highlighter-rouge">main.go</code> file, we define the backend servers as a slice of <code class="language-plaintext highlighter-rouge">Server</code> instances. Then, we create instances of the load balancers: <code class="language-plaintext highlighter-rouge">RoundRobinLoadBalancer</code> , <code class="language-plaintext highlighter-rouge">LeastConnectionsLoadBalancer</code> , and <code class="language-plaintext highlighter-rouge">RandomLoadBalancer</code> . We register each load balancer as an HTTP handler for a specific route. Finally, we start the HTTP server on port 8080.</p><div class="language-go highlighter-rouge"><div class="code-header"> <span data-label-text="Go"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
</pre><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
	<span class="s">"fmt"</span>
	<span class="s">"log"</span>
	<span class="s">"net/http"</span>
	<span class="s">"os"</span>
<span class="p">)</span>

<span class="k">var</span> <span class="n">logger</span> <span class="o">*</span><span class="n">log</span><span class="o">.</span><span class="n">Logger</span>

<span class="k">func</span> <span class="n">init</span><span class="p">()</span> <span class="p">{</span>
	<span class="c">// Create the logger with desired settings</span>
	<span class="n">logger</span> <span class="o">=</span> <span class="n">log</span><span class="o">.</span><span class="n">New</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">Stdout</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="n">log</span><span class="o">.</span><span class="n">LstdFlags</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="c">// Define the backend servers</span>
	<span class="n">servers</span> <span class="o">:=</span> <span class="p">[]</span><span class="o">*</span><span class="n">Server</span><span class="p">{{</span>
		<span class="n">URL</span><span class="o">:</span> <span class="s">"https://jsonplaceholder.typicode.com"</span><span class="p">,</span> <span class="n">Weight</span><span class="o">:</span> <span class="m">1</span><span class="p">,</span> <span class="n">Alive</span><span class="o">:</span> <span class="no">true</span><span class="p">},</span>
		<span class="p">{</span><span class="n">URL</span><span class="o">:</span> <span class="s">"https://httpbin.org"</span><span class="p">,</span> <span class="n">Weight</span><span class="o">:</span> <span class="m">2</span><span class="p">,</span> <span class="n">Alive</span><span class="o">:</span> <span class="no">true</span><span class="p">},</span>
		<span class="p">{</span><span class="n">URL</span><span class="o">:</span> <span class="s">"https://reqres.in"</span><span class="p">,</span> <span class="n">Weight</span><span class="o">:</span> <span class="m">3</span><span class="p">,</span> <span class="n">Alive</span><span class="o">:</span> <span class="no">true</span><span class="p">},</span>
	<span class="p">}</span>

	<span class="c">// Create the load balancers</span>
	<span class="n">roundRobinLB</span> <span class="o">:=</span> <span class="n">NewRoundRobinLB</span><span class="p">(</span><span class="n">servers</span><span class="p">)</span>
	<span class="n">leastConnectionLB</span> <span class="o">:=</span> <span class="n">NewLeastConnectionLB</span><span class="p">(</span><span class="n">servers</span><span class="p">)</span>
	<span class="n">randomLB</span> <span class="o">:=</span> <span class="n">NewRandomLB</span><span class="p">(</span><span class="n">servers</span><span class="p">)</span>

	<span class="c">// Register the load balancers as HTTP handlers</span>
	<span class="n">http</span><span class="o">.</span><span class="n">Handle</span><span class="p">(</span><span class="s">"/round-robin"</span><span class="p">,</span> <span class="n">roundRobinLB</span><span class="p">)</span>
	<span class="n">http</span><span class="o">.</span><span class="n">Handle</span><span class="p">(</span><span class="s">"/least-connections"</span><span class="p">,</span> <span class="n">leastConnectionLB</span><span class="p">)</span>
	<span class="n">http</span><span class="o">.</span><span class="n">Handle</span><span class="p">(</span><span class="s">"/random"</span><span class="p">,</span> <span class="n">randomLB</span><span class="p">)</span>

	<span class="c">// Start the server</span>
	<span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Load balancers started."</span><span class="p">)</span>

	<span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">ListenAndServe</span><span class="p">(</span><span class="s">":8080"</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
	<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
		<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"Error starting server: %s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">err</span><span class="o">.</span><span class="n">Error</span><span class="p">())</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>How to run the server is mentioned in the README file. You can clone the full code from my <a href="https://github.com/kamna123/LoadBalancer" target="_blank">GitHub</a> repository.</p><h3 id="7-conclusion"><span class="mr-2">7. Conclusion</span><a href="#7-conclusion" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Load balancing plays a crucial role in modern distributed systems, ensuring optimal performance, scalability, and reliability. In this article, we explored load-balancing fundamentals and implemented three popular load-balancing algorithms in Go: Round Robin, Least Connections, and Random. We also discussed the differences between layer 4 and layer 7 load balancing.</p><p>By understanding load-balancing algorithms and their implementations in Go, you can build efficient and scalable applications that can handle growing traffic demands. Whether you choose Round Robin, Least Connections, or Random load balancing, it’s important to consider your specific requirements and the characteristics of your backend servers.</p><p><em><a href="https://kamnagarg-10157.medium.com/demystifying-load-balancing-in-go-a-comprehensive-guide-678dd07129a2" target="_blank">Post</a> converted from Medium by <a href="https://github.com/ZhgChgLi/ZMediumToMarkdown" target="_blank">ZMediumToMarkdown</a>.</em></p></div><div class="post-tail-wrapper text-muted"><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/golang/" class="post-tag no-text-decoration" >golang</a> <a href="/tags/load-balancing/" class="post-tag no-text-decoration" >load-balancing</a> <a href="/tags/load-balancer/" class="post-tag no-text-decoration" >load-balancer</a> <a href="/tags/tech/" class="post-tag no-text-decoration" >tech</a> <a href="/tags/backend/" class="post-tag no-text-decoration" >backend</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Demystifying%20Load%20Balancing%20in%20Go:%20A%20Comprehensive%20Guide%20-%20Kamna&url=%2Fposts%2F678dd07129a2%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Demystifying%20Load%20Balancing%20in%20Go:%20A%20Comprehensive%20Guide%20-%20Kamna&u=%2Fposts%2F678dd07129a2%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=%2Fposts%2F678dd07129a2%2F" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/ff56d35a891f/">Mastering Asynchronous Programming with Kotlin Coroutines — Part 1</a><li><a href="/posts/ed48312c0e80/">Think, Stick and just go</a><li><a href="/posts/34d9d3a5565b/">Exploring Context in Golang</a><li><a href="/posts/f01ac6e884dc/">Exploring the Internals of Channels in Go</a><li><a href="/posts/40902c487f04/">Demystifying Kubernetes: Part 1</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/golang/">golang</a> <a class="post-tag" href="/tags/backend-development/">backend-development</a> <a class="post-tag" href="/tags/backend/">backend</a> <a class="post-tag" href="/tags/algorithms/">algorithms</a> <a class="post-tag" href="/tags/boyer-moore/">boyer-moore</a> <a class="post-tag" href="/tags/concurrency/">concurrency</a> <a class="post-tag" href="/tags/database/">database</a> <a class="post-tag" href="/tags/deadlock/">deadlock</a> <a class="post-tag" href="/tags/defer/">defer</a> <a class="post-tag" href="/tags/design-patterns/">design-patterns</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc"></nav></div><script src="https://cdn.jsdelivr.net/npm/tocbot@4.20.1/dist/tocbot.min.js"></script></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/fe2d7a895ab3/"><div class="card-body"> <em class="small" data-ts="1684347531" data-df="ll" > May 17, 2023 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Exploring Design Patterns in Go</h3><div class="text-muted small"><p> Exploring Design Patterns in Go Design patterns are reusable solutions to common software design problems that help developers build software that is maintainable, extensible, and scalable. In thi...</p></div></div></a></div><div class="card"> <a href="/posts/93eb6138f1c0/"><div class="card-body"> <em class="small" data-ts="1684606359" data-df="ll" > May 20, 2023 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Protocol Buffers (ProtoBuf) in Go</h3><div class="text-muted small"><p> Protocol Buffers (ProtoBuf) in Go Buckle up, folks! This time we’re diving into the world of Protocol Buffers (protobuf) and their superpowers in data serialization. Introduction Protocol Buffers...</p></div></div></a></div><div class="card"> <a href="/posts/5f41199085b9/"><div class="card-body"> <em class="small" data-ts="1688758072" data-df="ll" > Jul 7, 2023 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Understanding Mutex in Go</h3><div class="text-muted small"><p> Understanding Mutex in Go Image source: google Introduction In concurrent programming, ensuring data integrity and preventing race conditions is crucial. In Go, the sync.Mutex type provides a s...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/about/" class="btn btn-outline-primary" prompt="Older"><p>About</p></a> <a href="/posts/fe2d7a895ab3/" class="btn btn-outline-primary" prompt="Newer"><p>Exploring Design Patterns in Go</p></a></div></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/golang/">golang</a> <a class="post-tag" href="/tags/backend-development/">backend-development</a> <a class="post-tag" href="/tags/backend/">backend</a> <a class="post-tag" href="/tags/algorithms/">algorithms</a> <a class="post-tag" href="/tags/boyer-moore/">boyer-moore</a> <a class="post-tag" href="/tags/concurrency/">concurrency</a> <a class="post-tag" href="/tags/database/">database</a> <a class="post-tag" href="/tags/deadlock/">deadlock</a> <a class="post-tag" href="/tags/defer/">defer</a> <a class="post-tag" href="/tags/design-patterns/">design-patterns</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><footer><div class="container pl-lg-4 pr-lg-4"><div class="d-flex justify-content-between align-items-center text-muted ml-md-3 mr-md-3"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://twitter.com/kamna90">kamna</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">All rights reserved.</span></p></div><div class="footer-right"><p class="mb-0">Using the <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> theme <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a>.</p></div></div></div></footer><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
